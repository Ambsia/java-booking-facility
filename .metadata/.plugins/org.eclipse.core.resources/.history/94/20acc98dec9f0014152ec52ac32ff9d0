package com.bookingsystem.controller;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import com.bookingsystem.model.Account;
import com.bookingsystem.view.*;

public class BookingSystemController {

	private BookingSystemUILoader view;
	private UILoginPanel loginPanel;
	private Account accountModel; // only need to instantiate it when used

	// account not instantiated until logged in or created!
	public BookingSystemController(BookingSystemUILoader view) {
		this.view = view;
		loginPanel = view.GetLoginPanel();

		loginPanel.addSubmitListener(new LoginHandler());
	}

	public void RegisterAccount() {

	}

	public class LoginHandler implements ActionListener {

		@Override
		public void actionPerformed(ActionEvent arg0) {

			String username = accountModel.SHA1_HASH(loginPanel
					.GetLoginUsernameText());
			String unhashedPassword = accountModel.SHA1_HASH(loginPanel
					.GetLoginPasswordText());

			accountModel = new Account(0, 0, username, unhashedPassword);

			System.out.println(accountModel.toString());
		}
	}

}
